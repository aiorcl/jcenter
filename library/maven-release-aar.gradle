// 1、Maven-插件.
apply plugin: 'maven'

// 2、Maven-信息.
ext {
    GROUP_ID = 'com.library'
    ARTIFACT_ID = 'Library'
    VERSION = android.defaultConfig.versionName
}

// 3、Maven-输出路径.
uploadArchives {
    repositories {
        mavenDeployer {
            //TODO Method[1] -> (Local Mode)
            // repository(url: uri('./maven'))

            //TODO Method[2] -> (Nexus Mode)
            repository(url: "http://localhost:8081/repository/maven-releases/") {
                // Nexus Authentication.
                authentication(userName: "admin", password: "googol")
            }

            pom {
                project {
                    groupId GROUP_ID
                    artifactId ARTIFACT_ID
                    version VERSION
                }
            }
        }
    }
}

//TODO 生成JAR包源文件，如果不开源码请注释.
task androidSourcesJar(type: Jar) {
    classifier = 'sources'
    from android.sourceSets.main.java.sourceFiles
}

artifacts {
    archives androidSourcesJar
}